# aws-route-53-automation-relay
zip function.zip index.js
awslocal lambda create-function \
--function-name localstack-lambda-url-example \
--runtime python3.10 \
--zip-file fileb://function.zip \
--handler app.lambda_handler \
--role arn:aws:iam::000000000000:role/lambda-role


awslocal lambda invoke --function-name localstack-lambda-url-example \
--cli-binary-format raw-in-base64-out \
--payload '{"body": "{\"num1\": \"10\", \"num2\": \"10\"}" }' output.txt



sam remote test-event put ThisFunction --stack-name aws-route-53-automation-relay --name event-create-custom-cf --file events/event-create-custom-cf.json             
sam remote invoke ThisFunction --stack-name aws-route-53-automation-relay --test-event-name event-create-custom-cf

#local
sam local invoke ThisFunction -e events/event-create-custom-cf.json



{'ResponseMetadata': {'RequestId': '2tlDe6IT2N329HuoiadmxILx4mLXsOvOZB7sE8ZcWfBf5CRU7d40', 'HTTPStatusCode': 200, 'HTTPHeaders': {'server': 'Werkzeug/3.0.3 Python/3.10.14, amazon.com', 'date': 'Wed, 31 Jul 2024 22:34:44 GMT, Wed, 31 Jul 2024 18:34:40 GMT', 'x-amz-function-error': 'Handled', 'x-amz-log-result': 'G1szMm1TVEFSVCBSZXF1ZXN0SWQ6IDVjZGZkYjRmLTc2ZWItMTJmYy02MzMyLWQ4NGYzMTEwYWNlZSBWZXJzaW9uOiAkTEFURVNUG1swbQpob2xhYQpUCnsnYWN0aW9uJzogJ2NyZWF0ZScsICdyZWNvcmRfbmFtZSc6ICdsb2NhbGV2ZW50LmRldi5mYWJyaXJpdmFzLmNvbScsICdkbnNfem9uZSc6ICdkZXYuZmFicmlyaXZhcy5jb20nLCAncmVjb3JkX3R5cGUnOiAnQScsICdyZWNvcmRfdmFsdWUnOiAnMTAuMS4xLjEnfQpbRVJST1JdIENsaWVudEVycm9yOiBBbiBlcnJvciBvY2N1cnJlZCAoSW52YWxpZENsaWVudFRva2VuSWQpIHdoZW4gY2FsbGluZyB0aGUgUHVibGlzaCBvcGVyYXRpb246IFRoZSBzZWN1cml0eSB0b2tlbiBpbmNsdWRlZCBpbiB0aGUgcmVxdWVzdCBpcyBpbnZhbGlkLgpUcmFjZWJhY2sgKG1vc3QgcmVjZW50IGNhbGwgbGFzdCk6CsKgwqBGaWxlICIvdmFyL3Rhc2svYXBwLnB5IiwgbGluZSA4MCwgaW4gbGFtYmRhX2hhbmRsZXIKwqDCoMKgwqByZXNwb25zZSA9IHRlcnJhZm9ybV9zZW5kX3NucyhldmVudCkKwqDCoEZpbGUgIi92YXIvdGFzay9hcHAucHkiLCBsaW5lIDI3LCBpbiB0ZXJyYWZvcm1fc2VuZF9zbnMKwqDCoMKgwqByZXNwb25zZSA9IHNlbmRfbWVzc2FnZV9zbnMoYWN0aW9uLCByZWNvcmRfbmFtZSwgZG5zX3pvbmUsIHJlY29yZF90eXBlLCByZWNvcmRfdmFsdWUpCsKgwqBGaWxlICIvdmFyL3Rhc2svYXBwLnB5IiwgbGluZSA1NSwgaW4gc2VuZF9tZXNzYWdlX3NucwrCoMKgwqDCoHJlc3BvbnNlID0gc25zLnB1Ymxpc2goCsKgwqBGaWxlICIvdmFyL3Rhc2svYm90b2NvcmUvY2xpZW50LnB5IiwgbGluZSA1NjUsIGluIF9hcGlfY2FsbArCoMKgwqDCoHJldHVybiBzZWxmLl9tYWtlX2FwaV9jYWxsKG9wZXJhdGlvbl9uYW1lLCBrd2FyZ3MpCsKgwqBGaWxlICIvdmFyL3Rhc2svYm90b2NvcmUvY2xpZW50LnB5IiwgbGluZSAxMDE3LCBpbiBfbWFrZV9hcGlfY2FsbArCoMKgwqDCoHJhaXNlIGVycm9yX2NsYXNzKHBhcnNlZF9yZXNwb25zZSwgb3BlcmF0aW9uX25hbWUpChtbMzJtRU5EIFJlcXVlc3RJZDogNWNkZmRiNGYtNzZlYi0xMmZjLTYzMzItZDg0ZjMxMTBhY2VlG1swbQobWzMybVJFUE9SVCBSZXF1ZXN0SWQ6IDVjZGZkYjRmLTc2ZWItMTJmYy02MzMyLWQ4NGYzMTEwYWNlZQlJbml0IER1cmF0aW9uOiAxMDA0LjE2IG1zCUR1cmF0aW9uOiAzMDUuNzEgbXMJQmlsbGVkIER1cmF0aW9uOiAzMDYgbXMJTWVtb3J5IFNpemU6IDEyOCBNQglNYXggTWVtb3J5IFVzZWQ6IDQ3IE1CCRtbMG0K', 'content-length': '793', 'content-type': 'application/json', 'x-amz-crc32': '2942085067', 'x-amzn-requestid': '2tlDe6IT2N329HuoiadmxILx4mLXsOvOZB7sE8ZcWfBf5CRU7d40', 'access-control-allow-origin': '*', 'connection': 'close'}, 'RetryAttempts': 0}, 'StatusCode': 200, 'FunctionError': 'Handled', 'LogResult': 'G1szMm1TVEFSVCBSZXF1ZXN0SWQ6IDVjZGZkYjRmLTc2ZWItMTJmYy02MzMyLWQ4NGYzMTEwYWNlZSBWZXJzaW9uOiAkTEFURVNUG1swbQpob2xhYQpUCnsnYWN0aW9uJzogJ2NyZWF0ZScsICdyZWNvcmRfbmFtZSc6ICdsb2NhbGV2ZW50LmRldi5mYWJyaXJpdmFzLmNvbScsICdkbnNfem9uZSc6ICdkZXYuZmFicmlyaXZhcy5jb20nLCAncmVjb3JkX3R5cGUnOiAnQScsICdyZWNvcmRfdmFsdWUnOiAnMTAuMS4xLjEnfQpbRVJST1JdIENsaWVudEVycm9yOiBBbiBlcnJvciBvY2N1cnJlZCAoSW52YWxpZENsaWVudFRva2VuSWQpIHdoZW4gY2FsbGluZyB0aGUgUHVibGlzaCBvcGVyYXRpb246IFRoZSBzZWN1cml0eSB0b2tlbiBpbmNsdWRlZCBpbiB0aGUgcmVxdWVzdCBpcyBpbnZhbGlkLgpUcmFjZWJhY2sgKG1vc3QgcmVjZW50IGNhbGwgbGFzdCk6CsKgwqBGaWxlICIvdmFyL3Rhc2svYXBwLnB5IiwgbGluZSA4MCwgaW4gbGFtYmRhX2hhbmRsZXIKwqDCoMKgwqByZXNwb25zZSA9IHRlcnJhZm9ybV9zZW5kX3NucyhldmVudCkKwqDCoEZpbGUgIi92YXIvdGFzay9hcHAucHkiLCBsaW5lIDI3LCBpbiB0ZXJyYWZvcm1fc2VuZF9zbnMKwqDCoMKgwqByZXNwb25zZSA9IHNlbmRfbWVzc2FnZV9zbnMoYWN0aW9uLCByZWNvcmRfbmFtZSwgZG5zX3pvbmUsIHJlY29yZF90eXBlLCByZWNvcmRfdmFsdWUpCsKgwqBGaWxlICIvdmFyL3Rhc2svYXBwLnB5IiwgbGluZSA1NSwgaW4gc2VuZF9tZXNzYWdlX3NucwrCoMKgwqDCoHJlc3BvbnNlID0gc25zLnB1Ymxpc2goCsKgwqBGaWxlICIvdmFyL3Rhc2svYm90b2NvcmUvY2xpZW50LnB5IiwgbGluZSA1NjUsIGluIF9hcGlfY2FsbArCoMKgwqDCoHJldHVybiBzZWxmLl9tYWtlX2FwaV9jYWxsKG9wZXJhdGlvbl9uYW1lLCBrd2FyZ3MpCsKgwqBGaWxlICIvdmFyL3Rhc2svYm90b2NvcmUvY2xpZW50LnB5IiwgbGluZSAxMDE3LCBpbiBfbWFrZV9hcGlfY2FsbArCoMKgwqDCoHJhaXNlIGVycm9yX2NsYXNzKHBhcnNlZF9yZXNwb25zZSwgb3BlcmF0aW9uX25hbWUpChtbMzJtRU5EIFJlcXVlc3RJZDogNWNkZmRiNGYtNzZlYi0xMmZjLTYzMzItZDg0ZjMxMTBhY2VlG1swbQobWzMybVJFUE9SVCBSZXF1ZXN0SWQ6IDVjZGZkYjRmLTc2ZWItMTJmYy02MzMyLWQ4NGYzMTEwYWNlZQlJbml0IER1cmF0aW9uOiAxMDA0LjE2IG1zCUR1cmF0aW9uOiAzMDUuNzEgbXMJQmlsbGVkIER1cmF0aW9uOiAzMDYgbXMJTWVtb3J5IFNpemU6IDEyOCBNQglNYXggTWVtb3J5IFVzZWQ6IDQ3IE1CCRtbMG0K', 'Payload': <botocore.response.StreamingBody object at 0x7f7d41ddd000>}